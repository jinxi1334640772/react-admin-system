{"version":3,"sources":["../webpack/universalModuleDefinition","public-path.js","pages/home/index.jsx","pages/list/index.jsx","App.jsx","index.js"],"names":["root","factory","exports","module","define","amd","this","window","__POWERED_BY_QIANKUN__","__webpack_public_path__","__INJECTED_PUBLIC_PATH_BY_QIANKUN__","Home","style","padding","result","Mock","mock","id","increment","firstName","title","titlee","case","integer","time","boolean","image","Column","Table","List","useState","data","setData","console","log","page","setPage","pageInfo","setPageInfo","useEffect","a","list","current","pageSize","total","onChange","rowKey","dataSource","pagination","dataIndex","render","text","src","menus","key","route","App","refresh","setRefresh","selectedKeys","setSelectKeys","base","pathname","location","menu","find","item","basename","onClick","mode","map","Item","to","fallback","exact","path","component","ReactDOM","document","getElementById","bootstrap","props","mount","unmount","unmountComponentAtNode"],"mappings":"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","file":"static/js/main.7081e796.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactMicroApp\"] = factory();\n\telse\n\t\troot[\"ReactMicroApp\"] = factory();\n})(this, function() {\nreturn ","if (window.__POWERED_BY_QIANKUN__) {\r\n    // 动态设置 webpack publicPath，防止资源加载出错\r\n    // eslint-disable-next-line no-undef\r\n    __webpack_public_path__ = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\r\n  }\r\n  ","import React from \"react\";\r\n\r\nconst Home = () => <section style={{ padding: 20 }}>React App</section>\r\n\r\nexport default Home;","import React, { useState, useEffect } from \"react\";\r\nimport { Card, Table, Avatar } from \"antd\";\r\nimport Mock from 'mockjs';\r\nlet result= Mock.mock({\r\n  \"list|1-100\":[\r\n    {\r\n      'name|1-10':'@name',\r\n      id:'@id',\r\n      increment:'@increment',\r\n      firstName:'@first',\r\n      title:'@title',\r\n      titlee:'@title(5,10)',\r\n      case:'@float(1,100)',\r\n      integer:'@integer(1,3)',\r\n      'type|1':[1,2,3,'hah'],\r\n      'status|1':['12','23'],\r\n      time:'@datetime',\r\n      boolean:'boolean',\r\n      image:\"@img()\"\r\n    }\r\n  ]\r\n})\r\nconst { Column } = Table;\r\nconst List = () => {\r\n  // 设置列表信息\r\n  const [data, setData] = useState([]);\r\n  console.log(\"object\", data);\r\n  // 设置页码信息\r\n  const [page, setPage] = useState(1);\r\n  const [pageInfo, setPageInfo] = useState();\r\n\r\n  useEffect(() => {\r\n    console.log({ page });\r\n    (async () => {\r\n      setData(() => result.list);\r\n      setPageInfo(() => ({\r\n        current: 1,\r\n        pageSize: 100,\r\n        total: 1000,\r\n        onChange: (page) => setPage(page),\r\n      }));\r\n    })();\r\n  }, [page]);\r\n\r\n  return (\r\n    <Card title=\"React 子应用列表页\">\r\n      {/* <h2 style={{ fontSize: \"26px\", color: \"#fb4487\" }}>\r\n        曾经充满数据的一个列表（因服务器到期，此处数据已丢失）\r\n      </h2> */}\r\n      {\r\n        <Table rowKey=\"increment\" dataSource={data} pagination={pageInfo}>\r\n          <Column dataIndex=\"id\" />\r\n          <Column dataIndex=\"increment\" />\r\n          <Column dataIndex=\"firstName\" />\r\n          <Column dataIndex=\"titlee\" />\r\n          <Column dataIndex=\"title\" />\r\n          <Column dataIndex=\"case\" />\r\n          <Column dataIndex=\"time\" />\r\n          <Column dataIndex=\"image\" render={(text) => <Avatar src={text} />} />\r\n          <Column dataIndex=\"integer\" render={(text) => <>￥ {text}</>} />\r\n        </Table>\r\n      }\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import React, { Suspense, useState, useEffect } from \"react\";\r\nimport { Menu } from \"antd\";\r\nimport { BrowserRouter as Router, Route, Switch, Link } from \"react-router-dom\";\r\n\r\nimport Home from \"./pages/home\";\r\nimport List from \"./pages/list\";\r\n\r\nconst menus = [\r\n  {\r\n    key: \"react\",\r\n    route: \"/\",\r\n    title: \"主页\",\r\n  },\r\n  {\r\n    key: \"react-list\",\r\n    route: \"/list\",\r\n    title: \"列表页\",\r\n  },\r\n];\r\nlet BASE_NAME =  \"/react-admin-system\" \r\nconst App = () => {\r\n  const [refresh, setRefresh] = useState(0);\r\n  const [selectedKeys, setSelectKeys] = useState([\"react\"]);\r\n  const base = `${window.__POWERED_BY_QIANKUN__?'/react':''}${BASE_NAME}`\r\n  const { pathname } = window.location;\r\n  useEffect(() => {\r\n    const menu = menus.find((item) => `${base}${item.route}` === pathname);\r\n    setSelectKeys(() => [menu ? menu.key : \"react\"]);\r\n  }, [refresh,base,pathname]);\r\n\r\n  // 设置路由命名空间\r\n  return (\r\n    <Router basename={base}>\r\n      <section>\r\n        <Menu\r\n          onClick={() => setRefresh((refresh) => ++refresh)}\r\n          selectedKeys={selectedKeys}\r\n          mode=\"horizontal\"\r\n        >\r\n          {menus.map((item) => (\r\n            <Menu.Item key={item.key}>\r\n              <Link to={item.route}>{item.title}</Link>\r\n            </Menu.Item>\r\n          ))}\r\n        </Menu>\r\n        <Suspense fallback={null}>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/list\" component={List} />\r\n          </Switch>\r\n        </Suspense>\r\n      </section>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nimport \"./public-path\";\r\nimport App from \"./App.jsx\";\r\n\r\n/**\r\n * 渲染函数\r\n * 两种情况：主应用生命周期钩子中运行 / 微应用单独启动时运行\r\n */\r\nfunction render() {\r\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\r\n}\r\n\r\n// 独立运行时，直接挂载应用\r\nif (!window.__POWERED_BY_QIANKUN__) {\r\n  render();\r\n}\r\n\r\n/**\r\n * bootstrap 只会在微应用初始化的时候调用一次，下次微应用重新进入时会直接调用 mount 钩子，不会再重复触发 bootstrap。\r\n * 通常我们可以在这里做一些全局变量的初始化，比如不会在 unmount 阶段被销毁的应用级别的缓存等。\r\n */\r\nexport async function bootstrap(props) {\r\n  console.log(\"ReactMicroApp bootstraped\",props);\r\n}\r\n\r\n/**\r\n * 应用每次进入都会调用 mount 方法，通常我们在这里触发应用的渲染方法\r\n */\r\nexport async function mount(props) {\r\n  console.log(\"ReactMicroApp mount\", props);\r\n  render(props);\r\n}\r\n\r\n/**\r\n * 应用每次 切出/卸载 会调用的方法，通常在这里我们会卸载微应用的应用实例\r\n */\r\nexport async function unmount(props) {\r\n  console.log(\"ReactMicroApp unmount\",props);  \r\n  ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n}\r\n\r\n// if (process.env.NODE_ENV === \"development\") {\r\n//   window[\"ReactMicroApp\"] = {};\r\n//   window[\"ReactMicroApp\"].bootstrap = bootstrap;\r\n//   window[\"ReactMicroApp\"].mount = mount;\r\n//   window[\"ReactMicroApp\"].unmount = unmount;\r\n// }"],"sourceRoot":""}